services:
  ibkr-tws-mcp:
    build: .
    ports:
      - "${MCP_HTTP_PORT:-8080}:8080"
    environment:
      - TWS_HOST=${TWS_HOST:-host.docker.internal}
      - TWS_PORT=${TWS_PORT:-7496}
      - TWS_CLIENT_ID=${TWS_CLIENT_ID:-0}
      - TWS_TIMEOUT=${TWS_TIMEOUT:-30}
      - MCP_HOST=0.0.0.0
      - MCP_HTTP_PORT=8080
      - DEBUG=${DEBUG:-false}
      - ENABLE_ORDER_EXECUTION=${ENABLE_ORDER_EXECUTION:-false}
    restart: unless-stopped
